<div class="container">
  <div class="row">
    <div class="col-md-12">
      <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-12">
            <button type="submit" [disabled] = "!recipeForm.valid" class="btn btn-success mr-2">Save</button>
            <button type="button" (click) = "onCancel()" class="btn btn-primary">Cancel</button>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" class="form-control" [formControlName]="'name'">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <label for="image">Image Url:</label>
              <input 
                type="text" 
                class="form-control" 
                [formControlName]="'imagePath'"
                >
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <img
              style="width: 100%"
              [src]="recipeForm.get('imagePath').value" 
              class="img-responsive">
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <label for="description">Description:</label>
              <textarea name="description" class="form-control" rows="4" [formControlName]="'description'"></textarea>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12"  [formArrayName] = "'ingredient'">
            <div class="row" *ngFor = "let ingredientControl of controls; let i =index" [formGroupName] = 'i'>
              <div class="col-md-7">
                <div class="form-group">
                  <input 
                    type="text" 
                    class="form-control"
                    [formControlName] = "'name'">
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <input 
                    type="number" 
                    class="form-control"
                    [formControlName] = "'amount'">
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <button type="button" (click) = "onRemoveIngredientFromArray(i)" class="btn btn-danger">X</button>
                </div>
              </div>
            </div>
            <hr>
              <div class="row">
                <div class="col-md-12">
                  <button type="button" (click) = "onAddIngredient()" class="btn btn-primary">Add Ingredient</button>
                </div>
              </div>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>
